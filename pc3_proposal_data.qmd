---
title: "PC3: Project Proposal + Data"
author: Anne Johnson, Carly Waldeck, David Roth, Joseph Piini
format: 
  html:
    embed-resources: true
    code-tools: true
    toc: true
editor: source
execute: 
  error: true
  echo: true
  message: false
  warning: false
---

```{r setup}
library(tidyverse)

gdp <- read.csv("gdp_pcap.csv")
food_supply <- read.csv("food_supply_kilocalories_per_person_and_day.csv")
```

## Introduction

**Proposal**

TBD

**Summary of Data**

Our team will explore two datasets in our analysis: Gross domestic product (GDP) per capita and food supply. 

GDP per capita provides a measure of a country's total economic output, divided by the nation's population. The variable is adjusted for inflation by fixing prices to 2017 dollars, and measured in Purchasing Power Parity (PPP) dollars. PPP dollars offer a virtual currency used to facilitate international economic comparisons. The dataset contains observations for 195 countries, providing estimates spanning from 1800 to 2100.

The food supply dataset, sourced from the United Nation's Food and Agriculture Organization, provides insight into a country's food security and nutritional status. The dataset offers annual observations of a country's food supply by measuring kilocalories per person per day. The dataset contains observations for 179 countries, spanning from 1961 to 2018. 

## Data Cleaning

```{r data_cleaning}
# Joining datasets to include one obs. per country/year combination

gdp_longer <- gdp |>
  mutate(across(.cols = !country,
                .fns = ~as.numeric(.x))) |>
  pivot_longer(cols = !country,
               names_to = "year")

food_supply_longer <- food_supply |>
  mutate(across(.cols = !country,
                .fns = ~as.numeric(.x))) |>
  pivot_longer(cols = !country,
               names_to = "year")

data_joined <- gdp_longer |>
  inner_join(food_supply_longer, # only include matching rows
             join_by(country, year)) |>
  rename(gdp_pcap = "value.x",
         food_supply = "value.y") |>
  drop_na() |>
  mutate(year = as_factor(str_extract(year, pattern = "[:digit:]{1,}")),
         country = as_factor(country))

```

## Discussion

**Hypothesized Relationship**

*Provide an explanation for why you think they would have that relationship (including at least one outside source).*

**Data Cleaning Process**

*Discuss any data cleaning process and decisions that may impact the analysis.*

The food supply data contains sixteen more countries than the GDP data, so our analysis may be limited by the removal of these countries. 

## References

\[1\] GapMinder, “GD001,” *Gapminder.org*, 2011. https://www.gapminder.org/data/documentation/gd001/

\[2\] Food and Agriculture Organization of the United Nations, “FAOSTAT,” *www.fao.org*, 2024. https://www.fao.org/faostat/en/#home

‌
